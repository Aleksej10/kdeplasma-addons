<?xml version="1.0" encoding="UTF-8"?>
<pui
    xmlns:item = "http://nonexistant"
    xmlns:code = "http://nonexistant"
    
    xmlns:Plasma__BorderLayout = "http://nonexistant" 
    xmlns:Plasma__NodeLayout   = "http://nonexistant"
    xmlns:Lancelot__CardLayout = "http://nonexistant"
>
    <defines>
        <!-- These values will be converted to #define statements -->
        <define name="SYSTEM_HEIGHT" value="28" />
        <define name="SYSTEM_PADDING" value="8" />
        <define name="SEARCH_HEIGHT" value="30" />
        <define name="SECTIONS_WIDTH" value="128" />
    </defines>
    <ui
        className="LancelotWindowBase"
        rootObjectType="Plasma::Widget"
    >
        <item:layout
            name="layoutMain" type="Plasma::FlipLayout"
            realLayout="Plasma::BorderLayout"
            margin="0" spacing="0"
            leftSize="SECTIONS_WIDTH"
        >
            <item:layout
                name="layoutMainLeft" type="Plasma::FlipLayout"
                realLayout="Plasma::BorderLayout"
                margin="0" spacing="0"
                topSize="SEARCH_HEIGHT"
                bottomSize="SYSTEM_HEIGHT + 2 * SYSTEM_PADDING"
                
                Plasma__BorderLayout:position="Left"
            >
                <item:widget
                    name="panelSections" type="Lancelot::Panel"
                    
                    Plasma__BorderLayout:position="Center"
                >
                    <item:layout
                        name="layoutSections" type="Plasma::FlipLayout"
                        realLayout="Plasma::NodeLayout"
                        margin="0" spacing="0"
                    >
                        <code:declaration><![CDATA[
                            QMap < QString, Lancelot::ToggleExtenderButton * > sectionButtons;
                        ]]></code:declaration>
                        <code:setup><![CDATA[
                            sectionButtons["applications"] = buttonSectionsApplications;
                            sectionButtons["computer"]     = buttonSectionsComputer;
                            sectionButtons["documents"]    = buttonSectionsDocuments;
                            sectionButtons["contacts"]     = buttonSectionsContacts;
                        ]]></code:setup>
                        <item:widget
                            name="buttonSectionsDocuments" type="Lancelot::ToggleExtenderButton"

                            title="Documents"
                            icon="applications-office"
                            group="SectionButtons"
                            activation="Hover"
                            iconSize="48, 48"
                            orientation="Vertical"

                            Plasma__NodeLayout:topLeft     = "0, 0  , 0, 1"
                            Plasma__NodeLayout:bottomRight = "1, .25, 0, -1"
                        />
                        <item:widget
                            name="buttonSectionsContacts" type="Lancelot::ToggleExtenderButton"

                            title="Contacts"
                            icon="kontact"
                            group="SectionButtons"
                            activation="Hover"
                            iconSize="48, 48"
                            orientation="Vertical"

                            Plasma__NodeLayout:topLeft     = "0, .25  , 0, 1"
                            Plasma__NodeLayout:bottomRight = "1, .5  , 0, -1"
                        />
                        <item:widget
                            name="buttonSectionsComputer" type="Lancelot::ToggleExtenderButton"
                            
                            title="Computer"
                            icon="computer-laptop"
                            group="SectionButtons"
                            activation="Hover"
                            iconSize="48, 48"
                            orientation="Vertical"

                            Plasma__NodeLayout:topLeft     = "0, .5  , 0, 1"
                            Plasma__NodeLayout:bottomRight = "1, .75  , 0, -1"
                        />
                        <item:widget
                            name="buttonSectionsApplications" type="Lancelot::ToggleExtenderButton"
                            
                            title="Applications"
                            icon="applications-other"
                            group="SectionButtons"
                            activation="Hover"
                            iconSize="48, 48"
                            orientation="Vertical"
                            
                            Plasma__NodeLayout:topLeft     = "0, .75 , 0, 1"
                            Plasma__NodeLayout:bottomRight = "1, 1   , 0, -1"
                        />
                    </item:layout>
                </item:widget>
            </item:layout>
            <item:layout
                name="layoutMainCenter" type="Plasma::FlipLayout"
                realLayout="Plasma::BorderLayout"
                margin="0" spacing="0"
                topSize="SEARCH_HEIGHT"
                bottomSize="SYSTEM_HEIGHT + 2 * SYSTEM_PADDING"

                Plasma__BorderLayout:position="Center"
            >
                <item:layout
                    name="layoutSearch" type="Plasma::NodeLayout"
                    margin="0" spacing="0"
                    
                    Plasma__BorderLayout:position="Top"
                >
                <!-- Dirty hack to get an edit box before Qt 4.4 :: begin -->
                <code:include><![CDATA[
                    #include <KLineEdit>
                    ]]></code:include>
                    <code:declaration>
                        KLineEdit * editSearch;
                        Plasma::Widget      * _m_root;
                        QGraphicsView       * _m_view;
                    </code:declaration>
                    <code:initialization>
                        editSearch = new KLineEdit(); //(QWidget *)this
                    </code:initialization>
                    <code:setup>
                        editSearch->setClearButtonShown(true);
                        editSearch->setFrame(false);
                    </code:setup>
                    <item:widget
                        name="editSearchPositioner" type="Lancelot::WidgetPositioner"
                        widgetName="editSearch" view="_m_view" parent="_m_root"
                        
                        Plasma__NodeLayout:topLeft="0.5, 0.5, 0, 0"
                        Plasma__NodeLayout:bottomRight="1.0, 0.5, -10, INFINITY"
                    />
                    <item:widget
                        type="Plasma::Label" name="labelSearch"
                        text="Search"
                        
                        Plasma__NodeLayout:topLeft="0.5, 0.5, 0, 0"
                        Plasma__NodeLayout:bottomRight="1.1, 0.5, INFINITY, INFINITY"
                    />
                <!-- Dirty hack to get an edit box before Qt 4.4 :: end -->
                </item:layout>
                <item:layout
                    name="layoutCenter" type="Lancelot::CardLayout"
                    margin="0" spacing="0"
                    
                    Plasma__BorderLayout:position="Center"
                >
                    <item:widget
                        name="passagewayApplications" type="Lancelot::PassagewayView"
                        
                        entranceTitle="Favorite"
                        entranceIcon="favorite"
                        atlasTitle="Applications"
                        atlasIcon="applications-other"
                        
                        background="lancelot/inner-background"
                        
                        Lancelot__CardLayout:cardName="applications"
                    >
                    </item:widget>
                    <item:widget
                        name="panelComputer" type="Lancelot::Panel"
                           
                        title="Computer"
                        icon="computer-laptop"
                        iconSize="22, 22"
                        background="lancelot/inner-background"
                        
                        Lancelot__CardLayout:cardName="computer"
                    >
                        <item:layout name="layoutPanelComputer" type="Plasma::NodeLayout">
                            <item:widget
                                name="listComputerLeft" type="Lancelot::ActionListView"
                                itemsGroup="ActionListView-Left-Items" extenderPosition="Left"
                                
                                Plasma__NodeLayout:topLeft     = "0, 0"
                                Plasma__NodeLayout:bottomRight = "0.5, 1, -2, 0"
                            />
                            <item:widget
                                name="listComputerRight" type="Lancelot::ActionListView"
                                itemsGroup="ActionListView-Right-Items" extenderPosition="Right"
                                
                                Plasma__NodeLayout:topLeft     = "0.5, 0"
                                Plasma__NodeLayout:bottomRight = "1, 1, 2, 0"
                            />
                        </item:layout>
                    </item:widget>
                    <item:widget
                        name="panelContacts" type="Lancelot::Panel"

                        title="Contacts"
                        icon="kontact"
                        iconSize="22, 22"
                        background="lancelot/inner-background"
                        
                        Lancelot__CardLayout:cardName="contacts"
                    >
                        <item:layout name="layoutPanelContacts" type="Plasma::NodeLayout">
                            <item:widget
                                name="listContactsLeft" type="Lancelot::ActionListView"
                                itemsGroup="ActionListView-Left-Items" extenderPosition="Left"
                                
                                Plasma__NodeLayout:topLeft     = "0, 0"
                                Plasma__NodeLayout:bottomRight = "0.5, 1, -2, 0"
                            />
                            <item:widget
                                name="listContactsRight" type="Lancelot::ActionListView"
                                itemsGroup="ActionListView-Right-Items" extenderPosition="Right"
                                
                                Plasma__NodeLayout:topLeft     = "0.5, 0"
                                Plasma__NodeLayout:bottomRight = "1, 1, 2, 0"
                            />
                        </item:layout>
                    </item:widget>
                    <item:widget
                        name="panelDocuments" type="Lancelot::Panel"

                        title="Documents"
                        icon="applications-office"
                        iconSize="22, 22"
                        background="lancelot/inner-background"
                        
                        Lancelot__CardLayout:cardName="documents"
                    >
                        <item:layout name="layoutDocumentsComputer" type="Plasma::NodeLayout">
                            <item:widget
                                name="listDocumentsLeft" type="Lancelot::ActionListView"
                                itemsGroup="ActionListView-Left-Items" extenderPosition="Left"
                                
                                Plasma__NodeLayout:topLeft     = "0, 0"
                                Plasma__NodeLayout:bottomRight = "0.5, 1, -2, 0"
                            />
                            <item:widget
                                name="listDocumentsRight" type="Lancelot::ActionListView"
                                itemsGroup="ActionListView-Right-Items" extenderPosition="Right"
                                
                                Plasma__NodeLayout:topLeft     = "0.5, 0"
                                Plasma__NodeLayout:bottomRight = "1, 1, 2, 0"
                            />
                        </item:layout>
                    </item:widget>
                    <item:widget
                        name="panelSearch" type="Lancelot::Panel"

                        title="Search"
                        icon="find"
                        iconSize="22, 22"
                        background="lancelot/inner-background"
                        
                        Lancelot__CardLayout:cardName="search"
                    >
                        <item:layout name="layoutSearchComputer" type="Plasma::NodeLayout">
                            <item:widget
                                name="listSearchLeft" type="Lancelot::ActionListView"
                                itemsGroup="ActionListView-Left-Items" extenderPosition="Left"
                                
                                Plasma__NodeLayout:topLeft     = "0, 0"
                                Plasma__NodeLayout:bottomRight = "1.0, 1, 0, 0"
                            />
                            <!--
                            <item:widget
                                name="listSearchRight" type="Lancelot::ActionListView"
                                itemsGroup="ActionListView-Right-Items" extenderPosition="Right"
                                
                                Plasma__NodeLayout:topLeft     = "0.5, 0"
                                Plasma__NodeLayout:bottomRight = "1, 1, 2, 0"
                            />
                            -->
                        </item:layout>
                    </item:widget>
                </item:layout>
                <item:layout
                    name="layoutSystem" type="Plasma::NodeLayout"
                    margin="0" spacing="0"
                    
                    Plasma__BorderLayout:position="Bottom"
                >
                    <item:widget
                        name="buttonSystemLockScreen" type="Lancelot::ExtenderButton"

                        title="Lock Session"
                        icon="system-lock-screen"
                        group="SystemButtons"
                        activation="Extender"
                        extenderPosition="Bottom"
                        iconSize="24, 24"

                        Plasma__NodeLayout:topLeft     = "0, 0, 0, SYSTEM_PADDING"
                        Plasma__NodeLayout:bottomRight = "1.0 / 3.0, 1, -2, - SYSTEM_PADDING"
                    />
                    <item:widget
                        name="buttonSystemLogout" type="Lancelot::ExtenderButton"

                        title="Log Out..."
                        icon="system-log-out"
                        group="SystemButtons"
                        activation="Extender"
                        extenderPosition="Bottom"
                        iconSize="24, 24"

                        Plasma__NodeLayout:topLeft     = "1.0 / 3.0, 0, 1, SYSTEM_PADDING"
                        Plasma__NodeLayout:bottomRight = "2.0 / 3.0, 1, -1, - SYSTEM_PADDING"
                    />
                    <item:widget
                        name="buttonSystemSwitchUser" type="Lancelot::ExtenderButton"

                        title="Switch User"
                        icon="switchuser"
                        group="SystemButtons"
                        activation="Extender"
                        extenderPosition="Bottom"
                        iconSize="24, 24"

                        Plasma__NodeLayout:topLeft     = "2.0 / 3.0, 0, 2, SYSTEM_PADDING"
                        Plasma__NodeLayout:bottomRight = "1, 1, 0, - SYSTEM_PADDING"
                    />
                </item:layout>
            </item:layout>
        </item:layout>
    </ui>
</pui>